(this["webpackJsonpdochipo-weather"]=this["webpackJsonpdochipo-weather"]||[]).push([[0],{121:function(e,t,a){},216:function(e,t,a){},217:function(e,t,a){},218:function(e,t,a){},219:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a(24),r=a.n(n),s=a(4),i=(a(82),a(83),a(3)),o=a(71),l=a.n(o),u=a(72),d=a.n(u),j="FETCH_WEATHER",m="FETCH_WEATHER_SUCCESS",b="FETCH_WEATHER_FAILURE",h=function(e,t,a){return function(c){c(p()),d.a.get("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(e,"&lon=").concat(t,"&exclude=current,minutely,alerts&units=metric&appid=").concat("06c47f02b50c65099fadafb6c6f61a67")).then((function(e){c(O({data:e.data,placeName:a}))})).catch((function(e){c(f(e))}))}},p=function(){return{type:j}},O=function(e){return{type:m,data:e.data,placeName:e.placeName}},f=function(e){return{type:b,error:e}},x=(a(121),a(1));var g=function(){var e=Object(c.useState)(),t=Object(i.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(),o=Object(i.a)(r,2),u=o[0],d=o[1],j=Object(c.useState)(),m=Object(i.a)(j,2),b=m[0],p=m[1],O=Object(s.b)();return Object(c.useEffect)((function(){O(h(a,u,b))}),[a,u]),Object(x.jsx)("div",{onChange:function(){""==document.getElementsByClassName("react-mapbox-ac-input").value&&(document.getElementsByClassName("react-mapbox-ac-menu").style.display="none")},children:Object(x.jsx)(l.a,{publicKey:"pk.eyJ1IjoiZGViYTIwMTJkZHgiLCJhIjoiY2tsbDl1NWF2MTRzbzJxbm1ncWljYXNzOSJ9.F6wsFQDBFbbFITjO6ZfIQw",inputClass:"form-control search",onSuggestionSelect:function(e,t,a,c){n(t),d(a),p(c)},resetSearch:!1})})},v=a(73),N=a(9),y=a.n(N);a(216),a(217);var w=function(e){var t=e.weather,a=t.temp,c=t.dt,n=t.feels_like,r=t.humidity,i=t.wind_speed,o=t.pressure,l=t.sunrise,u=t.sunset,d=t.weather,j=e.index,m=Object(s.c)((function(e){return e.placeName}));return Object(x.jsxs)("div",{className:"widget-container",children:[Object(x.jsxs)("div",{className:"weather-header",children:[Object(x.jsxs)("div",{children:[0===j?"Tomorrow":"Day after tomorrow"," - ",y()(new Date(1e3*c)).format("DD MMM YYYY")," (",m,")"]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{children:Object(x.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(d[0].icon,".png"),alt:"icon"})}),Object(x.jsx)("span",{children:d[0].description})]})]}),Object(x.jsxs)("div",{className:"stats",children:[Object(x.jsxs)("div",{className:"temperature-holder",children:[Object(x.jsxs)("span",{className:"temperature-holder-item",children:["Temperature(day): ",a.day," \xb0c"]}),Object(x.jsxs)("span",{className:"temperature-holder-item",children:["Temperature(night): ",a.night," \xb0c"]}),Object(x.jsxs)("span",{className:"temperature-holder-item",children:["Temperature(min): ",a.min," \xb0c"]}),Object(x.jsxs)("span",{className:"temperature-holder-item",children:["Temperature(max): ",a.max," \xb0c"]})]}),Object(x.jsxs)("div",{className:"temperature-holder",children:[Object(x.jsxs)("span",{className:"temperature-holder-item",children:["Feels Like(day): ",n.day," \xb0c"]}),Object(x.jsxs)("span",{className:"temperature-holder-item",children:["Feels Like(night): ",n.night," \xb0c"]})]}),Object(x.jsxs)("div",{className:"temperature-holder",children:[Object(x.jsxs)("span",{className:"temperature-holder-item",children:["Humidity: ",r," %"]}),Object(x.jsxs)("span",{className:"temperature-holder-item",children:["Wind speed: ",i," km/h"]}),Object(x.jsxs)("span",{className:"temperature-holder-item",children:["Pressure: ",o]})]}),Object(x.jsxs)("div",{className:"temperature-holder",children:[Object(x.jsxs)("span",{className:"temperature-holder-item",children:["Sunrise: ",y()(new Date(1e3*l)).format("h:mm a")]}),Object(x.jsxs)("span",{className:"temperature-holder-item",children:["Sunset: ",y()(new Date(1e3*u)).format("h:mm a")]})]})]})]})};a(218);var S=function(){return Object(x.jsx)("div",{className:"loader-container"})};var T=function(){var e=Object(c.useState)(),t=Object(i.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(),o=Object(i.a)(r,2),l=o[0],u=o[1],d=Object(c.useState)(),j=Object(i.a)(d,2),m=j[0],b=j[1],p=Object(c.useState)(),O=Object(i.a)(p,2),f=O[0],g=O[1],N=Object(c.useState)([]),T=Object(i.a)(N,2),E=T[0],C=T[1],F=Object(c.useState)([]),L=Object(i.a)(F,2),D=L[0],Y=L[1],k=Object(s.c)((function(e){return e.data})),I=Object(s.c)((function(e){return e.isLoading})),H=Object(s.b)();Object(c.useEffect)((function(){M()}),[a,l]),Object(c.useEffect)((function(){f&&f.length&&C((function(e){var t=[];return f.map((function(e){return t.push(e.temp),t})),[].concat(t)})),f&&f.length&&Y((function(e){var t=[];return f.map((function(e){return t.push(y()(new Date(1e3*e.dt)).format("DD MMM YYYY h:mm a")),t})),[].concat(t)}))}),[m,f]),Object(c.useEffect)((function(){k.daily&&k.daily.length&&b(k.daily.slice(1,3)),k.hourly&&k.hourly.length&&g(k.hourly)}),[k]);var M=function(){window.navigator.geolocation.getCurrentPosition((function(e){n(e.coords.latitude),u(e.coords.longitude)})),H(h(a,l,"Your Location"))};return Object(x.jsx)("div",{children:I?Object(x.jsx)("div",{className:"loader",children:Object(x.jsx)(S,{})}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"widget",children:m&&m.length&&m.map((function(e,t){return Object(x.jsx)(w,{index:t,weather:e},t)}))}),f&&f.length&&Object(x.jsx)("div",{className:"chart-container",children:Object(x.jsx)(v.Line,{height:100,data:{labels:D,datasets:[{label:"Hourly temperature for next 48 hours(IST)",data:E,fill:!1,backgroundColor:"rgba(75,192,192,0.2)",borderColor:"rgba(75,192,192,1)"}]},options:{tooltips:{mode:"label",callbacks:{label:function(e,t){var a="Temperature "+t.datasets[e.datasetIndex].data[e.index]+" \xb0c";return a}}},scales:{yAxes:[{scaleLabel:{display:!0,labelString:"Temperature(\xb0c)"}}]}}})})]})})};var E=function(){return Object(x.jsxs)("div",{className:"App",children:[Object(x.jsx)(g,{}),Object(x.jsx)(T,{})]})},C=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,220)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),c(e),n(e),r(e),s(e)}))},F=a(14),L=a(74),D=a(10),Y={data:{},isLoading:!0,error:null,placeName:null},k=Object(F.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(D.a)(Object(D.a)({},e),{},{isLoading:!0});case m:return Object(D.a)(Object(D.a)({},e),{},{data:t.data,placeName:t.placeName,isLoading:!1});case b:return Object(D.a)(Object(D.a)({},e),{},{error:t.error,isLoading:!1});default:return e}}),Object(F.a)(L.a));r.a.render(Object(x.jsx)(s.a,{store:k,children:Object(x.jsx)(E,{})}),document.getElementById("root")),C()},82:function(e,t,a){},83:function(e,t,a){}},[[219,1,2]]]);
//# sourceMappingURL=main.cc97cd10.chunk.js.map